# Sferum Transfer Bot

> [!WARNING]  
> Возможно не будет работать, так как у меня нет возможности тестировать.
> Может блокировать аккаунт #10

Это бот, который пересылает сообщения из Max в Telegram.

## Что он умеет

- [x] Пересылать сообщения и медиафайлы из сферума в телеграм
    - [x] Текст
    - [x] Картинки
    - [x] Файлы
    - [x] Видео
    - [x] Пересылания
    - [x] Ответы
    - [ ] Форматирование текста

- [x] Отправлять сообщения в сферум по команде `/send <текст сообщения>`(все сообщения будут отправлятся от вашего лица)
    - [x] Текст
    - [ ] Картинки
    - [ ] Файлы
    - [ ] Видео
    - [ ] Пересылания
    - [x] Ответы
    - [x] Форматирование текста

## Установка

1. Установка пайтон:

    Скачайте и установите пайтон с [официального сайта](python.org)

2. Скачивание репозитория:
   
    Клонируйте репозиторий

    или

    Перейдите на GitHub и нажмите кнопку "Code", затем выберите "Download ZIP". Распакуйте скачанный файл.

3. Установка зависимостей:

    Установите необходимые библиотеки:
    
    ```bash
    pip install -r requirements.txt
    ```
4. Настройка переменных окружения:

    Создайте файл `.env` в корневом каталоге проекта 

    Добавьте переменные:
    ```env
    VK_CHAT_ID=ваш_vk_chat_id 
    TG_CHAT_ID=ваш_telegram_chat_id 
    TG_TOKEN=ваш_telegram_token 
    VK_COOKIE=ваш_vk_cookie
    ADMIN_USER_ID=ваш_id_в_телеграме(необязательно)
    ```

    - VK_CHAT_ID

        Зайдите на сайт max`а

        Откройте любой чат

        В адресной строке будет url такого формата:
        https://web.max.ru/id_вашего_чата

    - TG_TOKEN

        Создайте бота через @BotFather и получите токен

    - TG_CHAT_ID

        Зайдите на сайт телеграма 

        Откройте группу, в которой вы можете добавлять админов

        Url будет такого формата:
        https://web.telegram.org/a/#id_вашей_группы

        Также добавьте бота в группу и сделайте его админом

    - VK_COOKIE

        Зайдите в [max](https://web.max.ru/).

        Зайдите в аккаунт.

        Нажмите <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>C</kbd>, после чего откроются параметры для разработчиков.

        Перейдите в раздел `Application` (Приложение) >> `Storage` (Хранилище) >> `Cookies` (Файлы cookie) >> `https://web.max.ru`.

        Затем введите в поле поиска "__oneme_auth" и скопируйте его значение.

5. Настройка:

    Зайдите в файл `main.py` и настройте параметры в разделе `Constants & Configuration`

## Запуск

Откройте консоль

Перейдите в корневую папку проекта

Введите:
```bash
python main.py
```

Или

Используя docker:
https://hub.docker.com/repository/docker/sharkow1743/sferumtransferbot/general
